

// In order to see grid borders. If no need in prod, remove it
@mixin test-border() {
    border: 1px solid gray;
    border-radius: 1px;
}

// Variables
$grid-size: 12;
$column-width: 60px;
$gutter-width: 20px;
$page-width: 960px;

// The Grid Loop - what makes it all tick-tack //
$i: 1;
@while $i <= $grid-size {
    .gw_#{ $i } {
        max-width: ( ( $i * $column-width ) + ( $i * $gutter-width ) - $gutter-width ) / $page-width * 100% ;
	padding: $column-width / 100 0;
    }
    $i: $i + 1 !global;
}

// Main container for the grid.
body.flex-grid{
    @include flex-display(flex);
    @include flex-wrap(wrap);
}

// Rows are placed inside the grid.
.flex-row {
    @include flex-display(inline-flex);
    width: $page-width;
    margin: 0 auto;
    overflow: hidden;
}

// Columns are placed in the rows
.flex-col {
    @include flex();
    @include test-border();
    margin: 2px ( $gutter-width / 2 );
    overflow: hidden;
    text-align: center;
    
}

